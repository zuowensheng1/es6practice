<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>1.数组的解构赋值</title>
</head>
<body>

</body>
<script>
    let arr=[1,2,3,4];
    // let x=arr[0];
    // let y=arr[1];
    // let m=arr[2];
    // let n=arr[4];
    //
    // let [x,y,m,n]=arr;
    // console.log(x,y,m,n,)
    // //结果：1 2 3 4
    //
    // let [x,y,m,n]=[1,2];
    // console.log(x,y,m,n,)
    // //结果：1 2 undefined undefined
    //
    // //设置默认值, 后面的值严格undefined时，取默认值；null会赋值为null
    // let [x1,x2=10]=[1];
    // console.log(x1,x2)
    //
    // //省略赋值
    // let [,,m2]=[1,2,3];
    // console.log(m2);

    //不定参数赋值,将后面的项放在数组中
    let [y1,y2,...y3]=[1,2,3,4,5];
    console.log(y1,y2,y3);

    //用途1 交换变量的值
    let x=1,y=2;
    [x,y] = [y,x];

    //2函数返回多个值
    function example(){
        return [1,2,3];
    }
    let [a,b,c] = example();

    function returnObj(){
        return {
            foo:1,
            bar:2
        };
    }
    let {foo, bar} = returnObj();

    //3..函数参数的定义
    function f([x, y, z]){}//参数为有序数组
    f([1, 2, 3]);
    function f2({x,y,z}){}
    f({z:3, y:2, x:1});//无序，对象解构时会自动找同属性名

    //提取json数据
    let jsonData = {
        id:42,
        status: "OK",
        data:[324,13]
    };
    let {id, status, data:array} = jsonData;
    console.log(id, status, array);

    //函数参数的默认值,避免了在函数体内部再写var foo = config.foo || 'default foo';这样的语句
    let xxx = function({
        a = true,
        complete = function(){

        },
        global = true,
        //...more config
    }={}){
        //...do stuff
    }

    /*6 遍历 Map 结构

任何部署了 Iterator 接口的对象，都可以用for...of循环遍历。Map 结构原生支持 Iterator 接口，配合变量的解构赋值，获取键名和键值就非常方便。
*/
    const map = new Map();
    map.set('first', 'hello');
    map.set('second', 'world');

    for (let [key, value] of map) {
    console.log(key + " is " + value);
    }
    // first is hello
    // second is world

    /*
        （7）输入模块的指定方法
    加载模块时，往往需要指定输入哪些方法。解构赋值使得输入语句非常清晰。
    */
    const { SourceMapConsumer, SourceNode } = require("source-map");
</script>
</html>