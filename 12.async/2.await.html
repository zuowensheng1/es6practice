<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>2.await</title>
</head>

<body>
</body>
<script>
    //await 是一个语法糖    不用通过then就可以拿到resolve或者reject的参数
    // let p = new Promise((resolve,reject)=>{
    //     console.log("2");
    //     resolve("zhangsan");
    // });
    
    //console.log("3");
    function f(){
        return  new Promise((resolve,reject)=>{
        console.log("5");
        //resolve("zhangsan");
    })
    }
    async function getA(){
        //await 默认返回了Promise，调用回调函数，则返回执行时的参数；如果没有调回调函数，则后面的代码不执行
        //返回其他，则默认返回成功态的Promise，继续执行后面的代码
        console.log("0");
        let a = await f();//await把后面的代码变成微任务；是异步的，所以先会执行console.log(1);
        //如果f函数中有异步，也会等到异步代码执行完毕，才会执行这个微任务。
        console.log(a);//相当于不通过then就拿到了Promise传回的参数
        return a;
    }
    getA();
    // getA().then((res)=>{
    //     console.log(res);
    // }).catch((e)=>{
    //     console.log(e);
    // });
    console.log("1");
</script>

</html>