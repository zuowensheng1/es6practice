<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>1.PromiseAll</title>
</head>

<body>
</body>
<script>
    //Promise.all([每一项都是Promise，如果不是默认转为Promise])
    //数组中每一项都是成功，才会走成功回调，默认将每一个项的参数放在一个数组中传给回调函数，只有有一个错误就走错误的回调
    let p1 = new  Promise((resolve,reject)=>{
        reject("p1Error");
        resolve("开饭");
    });
    let p2 = new  Promise((resolve,reject)=>{
        resolve("吃药");
    });
    let p3 = new  Promise((resolve,reject)=>{
        resolve("喝水");
    });
    // Promise.all([p1, p2, p3]).then((res)=>{
    //     console.log(res);
    // }).catch((e)=>{
    //     console.log(e);
    // });

    //Promise.race([每一项都是Promise，如果不是默认转为Promise])
    //只要有一个状态改变，当前实例状态就改变，执行回调函数
    Promise.race([p1, p2, p3]).then((res)=>{
        console.log(res);
    }).catch((e)=>{
        console.log(e);
    });
</script>

</html>